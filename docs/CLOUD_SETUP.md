# 云开发环境配置指南

## 🔧 获取云开发环境ID

### 步骤1：在微信开发者工具中打开项目

1. 用微信开发者工具打开你的小程序项目
2. 确保项目能正常运行

### 步骤2：进入云开发控制台

1. 在微信开发者工具中，点击顶部菜单的 **"云开发"**
2. 如果是首次使用，会提示开通云开发服务
3. 开通后进入云开发控制台

### 步骤3：获取环境ID

1. 在云开发控制台中，左上角会显示环境名称和环境ID
2. 环境ID通常格式为：`xxxx-xxxxx` 
3. 复制这个环境ID

### 步骤4：配置环境ID

将获取到的环境ID替换到以下文件中：

#### 1. config/cloud.js
```javascript
export const cloudConfig = {
  envId: 'your-actual-env-id', // 替换为你的环境ID
  // ...其他配置
}
```

#### 2. manifest.json
```json
"mp-weixin": {
  "cloudDevelopment": {
    "env": "your-actual-env-id"
  }
}
```

## 📋 云函数部署

### 自动部署（推荐）

项目已配置自动复制云函数，运行构建命令即可：

```bash
# 开发模式
npm run dev:mp-weixin

# 生产构建  
npm run build:mp-weixin
```

### 手动部署

1. 在微信开发者工具中右键 `cloudfunctions` 目录
2. 选择 **"上传并部署：云端安装依赖"**
3. 等待部署完成

## 🎯 验证配置

配置完成后，重新运行项目，应该看到：

```
[App] 云开发初始化成功
[Cloud] 云开发初始化成功, 环境ID: your-env-id
```

如果仍有问题，检查：

1. ✅ 环境ID是否正确
2. ✅ 云开发是否已开通
3. ✅ 网络连接是否正常
4. ✅ 微信开发者工具版本是否最新

## 🔄 如果没有云开发环境

如果你还没有云开发环境：

1. 在微信开发者工具中点击 **"云开发"**
2. 选择 **"开通"**
3. 选择合适的套餐（开发阶段可以选择免费版）
4. 开通成功后获取环境ID
5. 按上述步骤配置

## 📱 其他平台

目前配置主要针对微信小程序，如需支持其他平台：

- **H5**: 需要配置 web 端的云服务
- **App**: 需要配置 uniCloud 或其他云服务
- **其他小程序**: 需要对应平台的云服务配置
